ğŸ“˜ MU-Cortex â€” Current Project Status
Final, Consolidated (Authoritative)

This document captures the complete end-to-end status of the MU-Cortex project, including architectural decisions, abandoned approaches, validated pipelines, completed AI layers, frontend integration work, and internal tooling added to close Phase 3 properly.

All information reflects the current live system state.

ğŸ§± PHASE 1 â€” FOUNDATION (SCHEME BRAIN) âœ…

Status: Stable & Frozen

ğŸ¯ Goal

Build a reliable academic backbone before introducing AI or prediction logic.

ğŸ—„ï¸ Database (Supabase) â€” Stable

Finalized Schema (Live)

users â€” scheme-locked students

subjects â€” scoped by scheme + semester + branch

topics â€” module-level granularity only

video_resources â€” cached YouTube results

channel_whitelist â€” trusted channel bias list

Key Architectural Decisions

Scheme isolation enforced at database + API level

UUID-based routing everywhere

RLS policies added incrementally and tested

No cross-scheme data leakage possible

â¡ï¸ Database layer frozen after this phase.

ğŸ”§ Backend (FastAPI) â€” Stable
Completed APIs
Endpoint	Purpose	Status
/health	Server health check	âœ…
/subjects	Fetch subjects	âœ…
/topics	Fetch topics by subject	âœ…
/videos	Ranked YouTube videos	âœ…
Stability Guarantees

Input validation

Safe 404 handling

No crashes on bad UUIDs

Clean response contracts

â¡ï¸ Backend foundation intentionally frozen.

ğŸ–¥ï¸ Frontend (Next.js App Router) â€” Stable
Completed Core Flows

Scheme lock & reset

Scheme persistence

Dashboard routing

Clean logout

Stabilized Routes

/ â†’ Landing

/dashboard â†’ Subjects

/dashboard/subject/[id] â†’ Subject view (Tabs)

/dashboard/subject/[id]/[topic] â†’ Topic (Videos / Notes)

â¡ï¸ Frontend initially render-only at this phase.

ğŸ¤– PHASE 2 â€” AUTO-SCOUT (CORE VALUE) âœ…

Status: Completed & Frozen

ğŸ”¹ PERSON D â€” YouTube Foundation

YouTube API v3 enabled

Quota-aware usage

Stats endpoint integrated

Channel whitelist with soft bias

ğŸ”¹ PERSON B â€” Scout Agent (Frozen by Design)

Capabilities

Topic-aware YouTube search

~20 candidates per query

Deduplication

Scoring (views, comments, relevance)

Soft whitelist bias

7-day caching

â¡ï¸ Logic intentionally locked to avoid instability.

ğŸ”¹ PERSON A â€” Frontend UX (Phase 2)

Subjects dashboard

Topics grouped by module

Videos page with:

Auto search

Manual sub-topic search

Cache indicators

Skeleton loaders

Error states

ğŸ”„ END-TO-END FLOW â€” VERIFIED

Landing
â†’ Scheme Lock
â†’ Subjects
â†’ Topics (Modules)
â†’ Videos (Auto search)
â†’ Optional sub-topic prompt
â†’ Ranked + cached results

âœ”ï¸ Fully tested locally.

ğŸ§  PHASE 3 â€” PYQ INGESTION (MAJOR ARCHITECTURAL PIVOT) âœ…

Status: Core Completed & Verified

âŒ INITIAL APPROACH (ABANDONED)

Attempted Pipeline

PDF â†’ pdfplumber

OCR fallback via Tesseract

Raw text extraction

Regex + LLM parsing

Problems Encountered

MU PDFs contain:

Watermarks

Broken glyphs

Random character ordering

OCR output:

Semantically corrupted

Non-linear

Destroyed question numbering

Regex + LLM:

Extracted only 1â€“2 questions

Missed OR blocks and hierarchy

âš ï¸ Root Cause:
OCR â‰  semantic document understanding.

â¡ï¸ Approach fully abandoned.

âœ… FINAL SOLUTION â€” GEMINI VISION (ADOPTED & VERIFIED)
Strategy

PDF â†’ Gemini 2.5 Flash Vision â†’ Structured Questions

No OCR

No regex guessing

No corrupted text

ğŸ“„ New Script Introduced

pyq_pipeline/parse_pyq_vision.py

Capabilities

Sends raw PDF bytes to Gemini Vision

Model understands:

Layout

Question hierarchy

OR blocks

Marks

Outputs

Clean structured JSON

Confidence scores

Module inference

Verification

14 / 14 questions extracted correctly

Marks accurate

OR questions preserved

Manual verification passed

âœ”ï¸ Extraction problem fully solved.

ğŸ—ƒï¸ DATA FLOW â€” COMPLETED
Step 1 â€” Vision Output

pyq_parsed/<paper>_vision.json

Step 2 â€” Supabase Ingestion

pyq_pipeline/ingest_questions.py

What it does

Reads all JSON files

Normalizes question text:

lowercase

punctuation removal

whitespace collapse

Generates SHA-256 hash for canonical deduplication

Inserts into:

questions (canonical)

question_appearances (history)

Extracts:

year

confidence

Fully idempotent

ğŸ—„ï¸ FINAL PYQ DATABASE SCHEMA (LIVE)
questions (Canonical)
Column	Purpose
id	UUID
question_text	Canonical text
marks	2 / 5 / 10
topic_id	Nullable
approved	Manual review flag
normalized_hash	Deduplication
created_at	Timestamp
question_appearances (History)
Column	Purpose
question_id	FK â†’ questions
appeared_in	Exam name
year	Extracted
subject_id	FK
scheme_id	TEXT
confidence	Vision confidence
created_at	Timestamp

âœ… Single shared canonical table
âœ… Subject/scheme separation via appearances
âœ… Enables frequency analytics & prediction

ğŸ“Š INGESTION RESULTS (CURRENT)

Subjects covered: AI, CN

Papers ingested: 4+ (scaling in progress)

Canonical questions: 60+

Question appearances: 60+

âœ”ï¸ Reworded concepts stored separately (correct behavior)
âœ”ï¸ Semantic merging deferred to Phase 4

ğŸ§ª PHASE 3 â€” PERSON C: REVIEW & QUALITY CONTROL âœ…

(Newly Completed)

ğŸ”¹ PYQ Review & Approval Tool

Tool Added

pyq_review_app/ (Streamlit)

Purpose

Human-in-the-loop quality gate before analytics & prediction

Capabilities

Shows all questions by default (cross-subject)

Optional filter by subject_id

Live metrics:

Total questions

Unapproved questions

Visible after filters

Actions:

Approve single question

Reject & delete

Approve all visible (batch)

Performance Improvements

Session-state caching (no re-fetch on every action)

Optimistic UI updates

Dynamic counts update instantly

No buffering after approval

Outcome

Person C is now a reviewer, not a data-entry operator

Data quality guaranteed before prediction layers

ğŸ§  PHASE 3 â€” PERSON B: ANSWER ENGINE âœ…

Status: Completed & Stable

ğŸ”¹ Core Capabilities

Gemini 2.5 Flash integrated

Async-safe runtime

Clean venv-based execution

No impact on frozen systems

âœï¸ MU-Style Prompt System

Dedicated prompt module

10-Mark Answers

Introduction

10â€“15 bullet points

Mandatory diagram

Mandatory real-world example (separate section)

Conclusion

Expanded keyword coverage

5-Mark Answers

Definition

5â€“7 bullet points

Example or diagram

Expanded word count

Quality Controls

Examiner-aligned phrasing

Bullet-first (Bharat-friendly)

Tables for compare/differentiate questions

Logical symbols rewritten into plain English

ğŸŒ Answer Generation API
Endpoint	Purpose	Status
/answers/generate	MU-style answer generation	âœ…

Features

Fetches canonical question

Marks-aware routing

Clean error handling

Optional transcript grounding

ğŸ¥ Optional Context Grounding

YouTube transcript integration

Uses Auto-Scout ranked videos

Keyword-based extraction

Graceful fallback (never blocks answers)

ğŸ§ª Validation

Real MU PYQs tested

10-mark answers â†’ full-marks quality

5-mark answers verified

Transcript & non-transcript cases tested

âœ”ï¸ End-to-end answer pipeline stable.

ğŸ–¥ï¸ PHASE 3 â€” PERSON A: FRONTEND INTEGRATION âœ…

Status: Completed & Stable

ğŸ”¹ Community Notes (Telegram â†’ Supabase â†’ UI)

Notes sourced from community_resources

Metadata-only (Telegram-hosted files)

Subject-scoped display

Tags rendered safely

File size + relative time

â€œOpen in Telegramâ€ deep link

Moderation-Aware UI

Unmoderated notes hidden from students

Pending moderation visible internally

Approved notes shown first

ğŸ”¹ Questions UI (Architectural Correction)

Initial assumption (discarded):
Topic-level questions

Final decision (locked):
Questions are subject-level

Reason

MU questions span multiple subtopics

Topics table is module-level only

Frequency & prediction are subject-scoped

ğŸ”¹ Subject-Level Questions Tab

Marks badges (2M / 5M / 10M)

Filters:

Marks

High-frequency (placeholder)

Sorting:

Frequency

Marks

Result count

Empty & loading states

ğŸ”¹ Answer UI Integration

â€œGenerate Answerâ€ per question

MU-formatted rendering:

Bold keywords

Diagram blocks

Clean line breaks

Copy to clipboard

Regenerate support

Safe HTML rendering

PDF export stubbed

ğŸ”¹ UX Decisions Finalized

Tabs at subject level:

Topics

Questions

Topic pages simplified

No duplicated question views

Mobile-responsive

ğŸŸ¢ CURRENT STATE â€” FINAL

Foundation: Stable

Auto-Scout: Frozen

PYQ extraction: Solved

PYQ ingestion: Live & scaling

Review tooling: Live

Answer Engine: Completed

Frontend integration: Completed

Data integrity: Verified

ğŸš€ READY FOR NEXT PHASE

System is now ready for:

PYQ frequency analytics

Semantic clustering

Question prediction & ranking

Reference book grounding

Study modes & intelligence layers