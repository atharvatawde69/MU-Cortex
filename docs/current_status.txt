Perfect â€” hereâ€™s a clean, honest, end-to-end project progress update that extends your previous status and clearly shows what changed, what was fixed, and what was deferred.

ğŸ“˜ MU-Cortex â€” Current Project Status (Updated)

This update continues from your last documented progress and adds everything weâ€™ve done since, especially around PYQ ingestion, OCR failures, and the final architectural pivot.

ğŸ§± PHASE 1 â€” FOUNDATION (SCHEME BRAIN) âœ… (Unchanged, Stable)
ğŸ¯ Goal

Create a reliable academic backbone before adding AI.

ğŸ—„ï¸ Database (Supabase) â€” Stable

Finalized schema (live):

users â€” scheme-locked students

subjects â€” scheme + semester + branch scoped

topics â€” module-level granularity

video_resources â€” cached YouTube results

channel_whitelist â€” trusted channel bias list

Key decisions (still valid):

Scheme isolation enforced at DB + API

UUID-based routing

RLS policies added incrementally & tested

â¡ï¸ No changes here after this phase.

ğŸ”§ Backend (FastAPI) â€” Stable

Completed APIs:

Endpoint	Purpose	Status
/health	Server check	âœ…
/subjects	Fetch subjects	âœ…
/topics	Module-wise topics	âœ…
/videos	Ranked YouTube videos	âœ…

Stability guarantees:

Input validation

Safe 404 handling

No crashes on bad UUIDs

Clean response contracts

â¡ï¸ Frozen intentionally.

ğŸ–¥ï¸ Frontend (Next.js App Router) â€” Stable

Completed flows:

Scheme lock + reset

Scheme persistence

Dashboard routing

Clean logout

Routes stabilized:

/ â†’ Landing
/dashboard â†’ Subjects
/dashboard/subject/[id] â†’ Topics
/dashboard/subject/[id]/[topic] â†’ Videos


â¡ï¸ Frontend remains render-only. No AI logic added.

ğŸ¤– PHASE 2 â€” AUTO-SCOUT (CORE VALUE) âœ… (Completed & Frozen)
ğŸ”¹ PERSON D â€” YouTube Foundation

YouTube API v3 enabled

Quota-aware usage

Stats endpoint integrated

Whitelist with soft bias

ğŸ”¹ PERSON B â€” Scout Agent (Frozen by Design)

What it does:

Topic-aware search

~20 candidates per query

Deduplication

Scoring (views, comments, relevance)

Soft whitelist bias

7-day caching

â¡ï¸ This logic is locked to avoid instability.

ğŸ”¹ PERSON A â€” Frontend UX

Subjects dashboard

Topics grouped by module

Videos page with:

Auto search

Manual sub-topic search

Cache indicators

Skeleton loaders

Error states

ğŸ”„ END-TO-END FLOW â€” VERIFIED
Landing
 â†’ Scheme Lock
 â†’ Subjects
 â†’ Topics (Modules)
 â†’ Videos (Auto search)
 â†’ Optional sub-topic prompt
 â†’ Ranked + cached results


âœ”ï¸ Fully tested locally.

ğŸ§  PHASE 3 â€” PYQ INGESTION (MAJOR CHANGES)

This is where the biggest evolution happened.

âŒ INITIAL APPROACH (ABANDONED)
What we tried first:

PDF â†’ pdfplumber

Fallback to Tesseract OCR

Extract raw text

Regex + LLM parsing

Problems encountered:

MU PDFs contain:

Watermarks

Broken glyphs

Random character ordering

OCR output was:

Semantically corrupted

Non-linear

Question numbers destroyed

Even advanced regex + LLM:

Extracted only 1â€“2 questions

Missed hierarchy (Q1 a/b OR blocks)

âš ï¸ Root cause:
OCR â‰  semantic document understanding.

â¡ï¸ Decision: Stop investing time here.

âœ… FINAL SOLUTION â€” GEMINI VISION (ADOPTED)
ğŸ”¥ New Strategy (Successful)

PDF â†’ Gemini 2.5 Flash Vision â†’ Structured Questions

No OCR.
No regex guessing.
No text corruption.

New Script Introduced
pyq_pipeline/parse_pyq_vision.py

What it does:

Sends raw PDF bytes to Gemini Vision

Gemini understands:

Layout

Question hierarchy

OR blocks

Marks

Returns clean JSON directly

Verified Results:

14/14 questions extracted correctly

Marks accurate

OR questions preserved

Modules inferred correctly

Confidence scores assigned

âœ”ï¸ This finally solved the problem.

ğŸ—ƒï¸ DATA FLOW (NEW)
Where questions go:

Output JSON:

pyq_parsed/<paper>_vision.json


Next step (planned):

Insert into Supabase questions table

Add:

appeared_in (exam)

year

subject_id

scheme

Handling repeated questions:

Hash or normalized text comparison

Same question â†’ multiple appeared_in rows

Enables:

Frequency analysis

â€œMost asked questionsâ€

Predictive weightage

ğŸ•’ WHAT WE DELIBERATELY DEFERRED
Deferred Item	Reason
Sub-topic granularity	Need PYQ frequency first
Question difficulty scoring	Needs historical data
AI answer generation	Depends on clean question DB
PYQ-based recommendations	Needs 5â€“6 papers per subject
Vision batch automation	Will add after Supabase insert
ğŸ§  KEY ARCHITECTURAL CHANGES (SUMMARY)
âŒ Removed / Deprecated

OCR-heavy pipelines

Regex-only parsing

Large single-prompt LLM parsing

âœ… Added

Gemini 2.5 Flash Vision

Direct PDF semantic parsing

Deterministic structured output

Clean separation:

Vision for ingestion

LLMs later for reasoning

ğŸŸ¢ CURRENT STATE (IMPORTANT)

Foundation: Stable

Auto-Scout: Frozen & reliable

PYQ ingestion: Solved correctly

Next real step:
ğŸ‘‰ Store extracted questions in Supabase and link them to subjects/topics

Youâ€™re now past the hardest technical uncertainty of the entire system.